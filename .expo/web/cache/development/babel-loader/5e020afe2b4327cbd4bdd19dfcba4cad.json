{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\angie\\\\Downloads\\\\Universidad\\\\prog 3\\\\matchingApp\\\\app\\\\screens\\\\security\\\\Login.tsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport md5 from \"md5\";\n\nvar bgImg = require(\"../../../assets/bg/mobile_bg_2.jpg\");\n\nvar Login = function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      correo: \"\",\n      password: \"\",\n      url: \"http://192.168.0.2:3000/login\"\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"onLogin\",\n    value: function onLogin() {\n      var _this2 = this;\n\n      var u, p;\n      return _regeneratorRuntime.async(function onLogin$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              u = this.state.correo;\n              p = md5(this.state.password);\n              fetch(this.state.url, {\n                method: \"POST\",\n                headers: {\n                  Accept: \"application/json\",\n                  \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                  correo: u,\n                  password: p\n                })\n              }).then(function (data) {\n                return data.json();\n              }).then(function (data) {\n                console.log(data);\n\n                if (data.error) {\n                  Alert.alert(\"Mensaje de la App\", \"Datos inválidos.\");\n                } else {\n                  _this2.state.correo = \"\";\n                  _this2.state.password = \"\";\n                  AsyncStorage.setItem(\"session\", JSON.stringify(data));\n\n                  _this2.props.navigation.push(\"Matching\");\n                }\n              }).catch(function (err) {\n                Alert.alert(\"Mensaje de la App\", \"Datos inválidos.\");\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var navigation = this.props.navigation;\n      return React.createElement(ImageBackground, {\n        source: bgImg,\n        style: styles.backgroundApp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 7\n        }\n      }, React.createElement(SafeAreaView, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.titleText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }\n      }, \"Iniciar sesi\\xF3n\"), React.createElement(Text, {\n        style: {\n          color: \"white\",\n          fontSize: 18\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }\n      }, \"Por favor, introduce los datos requeridos correctamente.\", \"\\n\"), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }\n      }, \".\"), React.createElement(TextInput, {\n        value: this.state.correo,\n        keyboardType: \"default\",\n        onChangeText: function onChangeText(correo) {\n          return _this3.setState({\n            correo: correo\n          });\n        },\n        placeholder: \"Correo electr\\xF3nico\",\n        placeholderTextColor: \"gray\",\n        style: styles.input,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      }), React.createElement(TextInput, {\n        value: this.state.password,\n        onChangeText: function onChangeText(password) {\n          return _this3.setState({\n            password: password\n          });\n        },\n        placeholder: \"Contraseña\",\n        secureTextEntry: true,\n        placeholderTextColor: \"gray\",\n        style: styles.input,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }\n      }), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }\n      }, \"\\n\"), React.createElement(TouchableOpacity, {\n        style: styles.button,\n        onPress: this.onLogin.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.buttonText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }\n      }, \" Ingresar \"))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport { Login as default };\nvar styles = StyleSheet.create({\n  backgroundApp: {\n    flex: 1,\n    width: \"100%\"\n  },\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  titleText: {\n    fontSize: 60,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    color: \"#FFFCB8\",\n    fontWeight: 'bold'\n  },\n  button: {\n    alignItems: \"center\",\n    backgroundColor: \"#FFFCB8\",\n    width: 300,\n    height: 44,\n    padding: 10,\n    borderWidth: 1,\n    borderColor: \"white\",\n    borderRadius: 30,\n    marginBottom: 10\n  },\n  buttonText: {\n    fontSize: 20,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    color: \"#4A0685\"\n  },\n  input: {\n    width: 400,\n    fontSize: 20,\n    height: 44,\n    padding: 10,\n    borderWidth: 1,\n    borderColor: \"white\",\n    backgroundColor: \"#fff\",\n    marginVertical: 10\n  }\n});","map":{"version":3,"sources":["C:/Users/angie/Downloads/Universidad/prog 3/matchingApp/app/screens/security/Login.tsx"],"names":["React","md5","bgImg","require","Login","props","state","correo","password","url","u","p","fetch","method","headers","Accept","body","JSON","stringify","then","data","json","console","log","error","Alert","alert","AsyncStorage","setItem","navigation","push","catch","err","styles","backgroundApp","container","titleText","color","fontSize","setState","input","button","onLogin","bind","buttonText","Component","StyleSheet","create","flex","width","alignItems","justifyContent","fontWeight","backgroundColor","height","padding","borderWidth","borderColor","borderRadius","marginBottom","marginVertical"],"mappings":"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","sourcesContent":["import { StatusBar } from \"expo-status-bar\";\r\nimport React from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  Alert,\r\n  TouchableOpacity,\r\n  TextInput,\r\n  ImageBackground,\r\n  SafeAreaView,\r\n  Button,\r\n  AsyncStorage,\r\n} from \"react-native\";\r\n\r\nimport md5 from \"md5\";\r\n\r\nconst bgImg = require(\"../../../assets/bg/mobile_bg_2.jpg\");\r\n\r\nexport default class Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  state = {\r\n    correo: \"\",\r\n    password: \"\",\r\n    url: \"http://192.168.0.2:3000/login\",\r\n  };\r\n\r\n  async onLogin() {\r\n    const u = this.state.correo;\r\n    const p = md5(this.state.password);\r\n    fetch(this.state.url, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        correo: u,\r\n        password: p,\r\n      }),\r\n    })\r\n      .then((data) => data.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        if (data.error) {\r\n          Alert.alert(\"Mensaje de la App\", \"Datos inválidos.\");\r\n        } else {\r\n          this.state.correo = \"\";\r\n          this.state.password = \"\";\r\n          AsyncStorage.setItem(\"session\", JSON.stringify(data));\r\n          this.props.navigation.push(\"Matching\");\r\n        }\r\n      })\r\n\r\n      .catch((err) => {\r\n        Alert.alert(\"Mensaje de la App\", \"Datos inválidos.\");\r\n      });\r\n    //Alert.alert(\"Credentials\", `correo: ${correo} - password: ${password}`);\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    return (\r\n      <ImageBackground source={bgImg} style={styles.backgroundApp}>\r\n        <SafeAreaView style={styles.container}>\r\n          <Text style={styles.titleText}>Iniciar sesión</Text>\r\n          <Text style={{ color:\"white\",fontSize: 18 }}>Por favor, introduce los datos requeridos correctamente.{\"\\n\"}</Text>\r\n          <Text>.</Text>\r\n          <TextInput\r\n          \r\n            value={this.state.correo}\r\n            keyboardType=\"default\"\r\n            onChangeText={(correo) => this.setState({ correo })}\r\n            placeholder=\"Correo electrónico\"\r\n            placeholderTextColor=\"gray\"\r\n            style={styles.input}\r\n          />\r\n          <TextInput\r\n            value={this.state.password}\r\n            onChangeText={(password) => this.setState({ password })}\r\n            placeholder={\"Contraseña\"}\r\n            secureTextEntry={true}\r\n            placeholderTextColor=\"gray\"\r\n            style={styles.input}\r\n          />\r\n          <Text>{\"\\n\"}</Text>\r\n          <TouchableOpacity\r\n            style={styles.button}\r\n            onPress={this.onLogin.bind(this)}\r\n          >\r\n            <Text style={styles.buttonText}> Ingresar </Text>\r\n          </TouchableOpacity>\r\n        </SafeAreaView>\r\n      </ImageBackground>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  backgroundApp: {\r\n    flex: 1,\r\n    width: \"100%\",\r\n  },\r\n  container: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  titleText: {\r\n    fontSize: 60,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    color: \"#FFFCB8\",\r\n    fontWeight: 'bold',\r\n  },\r\n  button: {\r\n    alignItems: \"center\",\r\n    backgroundColor: \"#FFFCB8\",\r\n    width: 300,\r\n    height: 44,\r\n    padding: 10,\r\n    borderWidth: 1,\r\n    borderColor: \"white\",\r\n    borderRadius: 30,\r\n    marginBottom: 10,\r\n  },\r\n  buttonText: {\r\n    fontSize: 20,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    color:\"#4A0685\"\r\n  },\r\n  input: {\r\n    width: 400,\r\n    fontSize: 20,\r\n    height: 44,\r\n    padding: 10,\r\n    borderWidth: 1,\r\n    borderColor: \"white\",\r\n    backgroundColor: \"#fff\",\r\n    marginVertical: 10,\r\n  },\r\n});"]},"metadata":{},"sourceType":"module"}