{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\angie\\\\Downloads\\\\Universidad\\\\prog 3\\\\matchingApp\\\\app\\\\screens\\\\security\\\\SessionNavbar.tsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { ScrollView } from \"react-native-gesture-handler\";\n\nvar SessionNavbar = function (_React$Component) {\n  _inherits(SessionNavbar, _React$Component);\n\n  var _super = _createSuper(SessionNavbar);\n\n  function SessionNavbar(props) {\n    var _this;\n\n    _classCallCheck(this, SessionNavbar);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      isLoggedIn: false,\n      name: \"\"\n    };\n\n    _this.signOut = function () {\n      Alert.alert(\"Cerrar sesión.\", \"¿Deseas cerrar la sesión?\", [{\n        text: \"Sí.\",\n        onPress: function onPress() {\n          AsyncStorage.removeItem(\"session\");\n\n          _this.props.navigation.push(\"Matchiing\");\n\n          _this.setState({\n            isLoggedIn: false,\n            name: \"\"\n          });\n        }\n      }, {\n        text: \"No.\"\n      }]);\n    };\n\n    return _this;\n  }\n\n  _createClass(SessionNavbar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var session;\n      return _regeneratorRuntime.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"session\"));\n\n            case 2:\n              session = _context.sent;\n\n              if (session) {\n                this.setState({\n                  isLoggedIn: true,\n                  name: JSON.parse(session).data.correo\n                });\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.state.isLoggedIn) {\n        return React.createElement(Text, {\n          onPress: this.signOut,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 14\n          }\n        }, \"Bienvenido, \", this.state.name);\n      } else {\n        return React.createElement(ScrollView, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 9\n          }\n        }, React.createElement(View, {\n          style: styles.container,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 9\n          }\n        }, React.createElement(View, {\n          style: styles.buttonView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 11\n          }\n        }, React.createElement(Button, {\n          color: \"#760893\",\n          title: \"Reg\\xEDstrate\",\n          onPress: function onPress() {\n            return _this2.props.navigation.push(\"Registrate\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }\n        })), React.createElement(View, {\n          style: styles.buttonView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 9\n          }\n        }, React.createElement(Button, {\n          color: \"#760893\",\n          title: \"Con\\xE9ctate\",\n          onPress: function onPress() {\n            return _this2.props.navigation.push(\"Iniciar sesión\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 9\n          }\n        }))));\n      }\n    }\n  }]);\n\n  return SessionNavbar;\n}(React.Component);\n\nexport { SessionNavbar as default };\nvar styles = StyleSheet.create({\n  buttonView: {\n    padding: 10\n  },\n  container: {\n    flex: 0.5,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    alignContent: \"center\"\n  }\n});","map":{"version":3,"sources":["C:/Users/angie/Downloads/Universidad/prog 3/matchingApp/app/screens/security/SessionNavbar.tsx"],"names":["React","ScrollView","SessionNavbar","props","state","isLoggedIn","name","signOut","Alert","alert","text","onPress","AsyncStorage","removeItem","navigation","push","setState","getItem","session","JSON","parse","data","correo","styles","container","buttonView","Component","StyleSheet","create","padding","flex","flexDirection","alignItems","alignContent"],"mappings":"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","sourcesContent":["import { StatusBar } from \"expo-status-bar\";\r\nimport React from \"react\";\r\nimport { StyleSheet, Text, Alert, Button, AsyncStorage, VirtualizedList, View, Dimensions } from \"react-native\";\r\nimport { ScrollView } from \"react-native-gesture-handler\";\r\nimport{ActivityIndicator, Colors, Appbar} from 'react-native-paper';\r\n\r\nexport default class SessionNavbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  state = {\r\n    isLoggedIn: false,\r\n    name: \"\",\r\n  };\r\n\r\n  async componentDidMount() {\r\n    let session = await AsyncStorage.getItem(\"session\");\r\n\r\n    if (session) {\r\n      this.setState({\r\n        isLoggedIn: true,\r\n        name: JSON.parse(session).data.correo,\r\n      });\r\n    }\r\n  }\r\n\r\n  signOut = () => {\r\n    Alert.alert(\"Cerrar sesión.\", \"¿Deseas cerrar la sesión?\", [\r\n      {\r\n        text: \"Sí.\",\r\n        onPress: () => {\r\n          AsyncStorage.removeItem(\"session\");\r\n          this.props.navigation.push(\"Matchiing\");\r\n          this.setState({\r\n            isLoggedIn: false,\r\n            name: \"\",\r\n          });\r\n        },\r\n      },\r\n      {\r\n        text: \"No.\",\r\n      },\r\n    ]);\r\n  };\r\n\r\n  render() {\r\n    if (this.state.isLoggedIn) {\r\n      return <Text onPress={this.signOut}>Bienvenido, {this.state.name}</Text>;\r\n    } \r\n    \r\n    else {\r\n      return (\r\n        \r\n        <ScrollView> \r\n        <View style={styles.container}>\r\n          <View style={styles.buttonView}>\r\n          <Button\r\n          color=\"#760893\"\r\n          title=\"Regístrate\"\r\n          onPress={() => this.props.navigation.push(\"Registrate\")}\r\n        />\r\n        </View>\r\n        <View style={styles.buttonView}>\r\n        <Button \r\n          color=\"#760893\"\r\n          title=\"Conéctate\"\r\n          onPress={() => this.props.navigation.push(\"Iniciar sesión\")}\r\n        />\r\n        </View>\r\n        </View>\r\n        </ScrollView> \r\n        \r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n \r\n  buttonView: {\r\n    padding: 10,\r\n  },\r\n  container: {\r\n    flex:0.5,\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    alignContent: \"center\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}