{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\angie\\\\Downloads\\\\Universidad\\\\prog 3\\\\matchingApp\\\\app\\\\screens\\\\Main.tsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport SessionNavbar from \"./security/SessionNavbar\";\n\nvar Main = function (_React$Component) {\n  _inherits(Main, _React$Component);\n\n  var _super = _createSuper(Main);\n\n  function Main(props) {\n    var _this;\n\n    _classCallCheck(this, Main);\n\n    _this = _super.call(this, props);\n\n    _this.componentDidMount = function () {\n      _this.getPerfiles();\n    };\n\n    _this.getPerfiles = function () {\n      _this.setState({\n        loading: true\n      });\n\n      console.log();\n      fetch(_this.state.url).then(function (data) {\n        return data.json();\n      }).then(function (data) {\n        _this.setState({\n          perfiles: data,\n          loading: false\n        });\n      }).catch(function (err) {\n        Alert.alert(\"Error\", \"Ha ocurrido un error cargando los perfiles.\");\n      });\n    };\n\n    _this.state = {\n      loading: false,\n      perfiles: [],\n      url: 'http://192.168.0.2:3000/perfil?filter={\"include\":[{\"relation\":\"pais\"},{\"relation\":\"ciudad\"},{\"relation\":\"imagenes\"}]}'\n    };\n    return _this;\n  }\n\n  _createClass(Main, [{\n    key: \"render\",\n    value: function render() {\n      var navigation = this.props.navigation;\n\n      if (this.state.loading) {\n        return React.createElement(View, {\n          style: styles.dataViewLoading,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 9\n          }\n        }, React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 11\n          }\n        }, \"Cargando perfiles... por favor espere.\"));\n      } else {\n        return React.createElement(View, {\n          style: styles.perfilesView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 9\n          }\n        }, React.createElement(SessionNavbar, {\n          navigation: navigation,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 11\n          }\n        }), React.createElement(Text, {\n          style: {\n            color: \"#860CF8\",\n            fontWeight: 'bold',\n            fontSize: 25\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 11\n          }\n        }, \"Descubrir\"), React.createElement(FlatList, {\n          style: styles.flatList,\n          data: this.state.perfiles,\n          renderItem: function renderItem(_ref) {\n            var item = _ref.item;\n            return React.createElement(View, {\n              style: styles.perfilViewContent,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 15\n              }\n            }, React.createElement(TouchableHighlight, {\n              onPress: function onPress() {\n                Alert.alert(\"Imagen seleccionada\", \"Perfil: \" + item.nombre);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }\n            }, React.createElement(Image, {\n              source: {\n                width: 200,\n                height: 150,\n                uri: \"http://192.168.0.2:3000/files/1/\" + item.imagenes[0].id\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 19\n              }\n            })), React.createElement(Text, {\n              style: styles.perfilName,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }\n            }, item.nombre), React.createElement(Text, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }\n            }, \"Pais: \", item.pais.Nombre), React.createElement(Text, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }\n            }, \"Ciudad: \", item.ciudad.Nombre));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 11\n          }\n        }));\n      }\n    }\n  }]);\n\n  return Main;\n}(React.Component);\n\nexport { Main as default };\nvar styles = StyleSheet.create({\n  perfilViewContent: {\n    borderColor: \"gray\",\n    borderWidth: 2,\n    borderRadius: 5,\n    margin: 5,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  perfilName: {\n    fontSize: 18,\n    color: \"#860CF8\",\n    fontWeight: 'bold'\n  },\n  perfilesView: {\n    alignItems: \"center\",\n    alignContent: \"center\",\n    flex: 2\n  },\n  dataViewLoading: {\n    alignItems: \"center\",\n    alignContent: \"center\",\n    flex: 1\n  },\n  button: {\n    alignSelf: \"center\",\n    alignContent: \"flex-start\"\n  },\n  itemTitle: {\n    padding: 10,\n    fontSize: 25,\n    height: 44,\n    fontWeight: \"bold\"\n  },\n  flatList: {\n    alignContent: \"center\",\n    textAlign: \"center\",\n    alignSelf: \"center\"\n  },\n  img: {\n    width: 100,\n    height: 150\n  },\n  separator: {\n    height: 4,\n    backgroundColor: \"#CEAFEC\",\n    width: Dimensions.get(\"window\").width / 2\n  }\n});","map":{"version":3,"sources":["C:/Users/angie/Downloads/Universidad/prog 3/matchingApp/app/screens/Main.tsx"],"names":["React","SessionNavbar","Main","props","componentDidMount","getPerfiles","setState","loading","console","log","fetch","state","url","then","data","json","perfiles","catch","err","Alert","alert","navigation","styles","dataViewLoading","perfilesView","color","fontWeight","fontSize","flatList","item","perfilViewContent","nombre","width","height","uri","imagenes","id","perfilName","pais","Nombre","ciudad","Component","StyleSheet","create","borderColor","borderWidth","borderRadius","margin","alignItems","justifyContent","alignContent","flex","button","alignSelf","itemTitle","padding","textAlign","img","separator","backgroundColor","Dimensions","get"],"mappings":";;;;;;;;;;;AACA,OAAOA,KAAP,MAAkB,OAAlB;;;;;;;;;AAYA,OAAOC,aAAP;;IAEqBC,I;;;;;AACnB,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,UAWnBC,iBAXmB,GAWC,YAAM;AACxB,YAAKC,WAAL;AACD,KAbkB;;AAAA,UAenBA,WAfmB,GAeL,YAAM;AAClB,YAAKC,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAd;;AACAC,MAAAA,OAAO,CAACC,GAAR;AACAC,MAAAA,KAAK,CAAC,MAAKC,KAAL,CAAWC,GAAZ,CAAL,CACGC,IADH,CACQ,UAACC,IAAD;AAAA,eAAUA,IAAI,CAACC,IAAL,EAAV;AAAA,OADR,EAEGF,IAFH,CAEQ,UAACC,IAAD,EAAU;AACd,cAAKR,QAAL,CAAc;AACZU,UAAAA,QAAQ,EAAEF,IADE;AAEZP,UAAAA,OAAO,EAAE;AAFG,SAAd;AAID,OAPH,EAQGU,KARH,CAQS,UAACC,GAAD,EAAS;AACdC,QAAAA,KAAK,CAACC,KAAN,CAAY,OAAZ,EAAqB,6CAArB;AACD,OAVH;AAWD,KA7BkB;;AAGjB,UAAKT,KAAL,GAAa;AACXJ,MAAAA,OAAO,EAAE,KADE;AAEXS,MAAAA,QAAQ,EAAE,EAFC;AAGXJ,MAAAA,GAAG,EACD;AAJS,KAAb;AAHiB;AASlB;;;;6BAsBQ;AAAA,UACCS,UADD,GACgB,KAAKlB,KADrB,CACCkB,UADD;;AAEP,UAAI,KAAKV,KAAL,CAAWJ,OAAf,EAAwB;AACtB,eACE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAEe,MAAM,CAACC,eAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDADF,CADF;AAKD,OAND,MAMO;AACL,eACE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAED,MAAM,CAACE,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,aAAD;AAAe,UAAA,UAAU,EAAEH,UAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAEE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAAEI,YAAAA,KAAK,EAAE,SAAT;AAAsBC,YAAAA,UAAU,EAAE,MAAlC;AAA0CC,YAAAA,QAAQ,EAAE;AAApD,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFF,EAGE,oBAAC,QAAD;AACE,UAAA,KAAK,EAAEL,MAAM,CAACM,QADhB;AAEE,UAAA,IAAI,EAAE,KAAKjB,KAAL,CAAWK,QAFnB;AAGE,UAAA,UAAU,EAAE;AAAA,gBAAGa,IAAH,QAAGA,IAAH;AAAA,mBACV,oBAAC,IAAD;AAAM,cAAA,KAAK,EAAEP,MAAM,CAACQ,iBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACE,oBAAC,kBAAD;AACE,cAAA,OAAO,EAAE,mBAAM;AACbX,gBAAAA,KAAK,CAACC,KAAN,CAAY,qBAAZ,eAA8CS,IAAI,CAACE,MAAnD;AACD,eAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAKE,oBAAC,KAAD;AACE,cAAA,MAAM,EAAE;AACNC,gBAAAA,KAAK,EAAE,GADD;AAENC,gBAAAA,MAAM,EAAE,GAFF;AAGNC,gBAAAA,GAAG,uCAAqCL,IAAI,CAACM,QAAL,CAAc,CAAd,EAAiBC;AAHnD,eADV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,CADF,EAeE,oBAAC,IAAD;AAAM,cAAA,KAAK,EAAEd,MAAM,CAACe,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAiCR,IAAI,CAACE,MAAtC,CAfF,EAiBE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAaF,IAAI,CAACS,IAAL,CAAUC,MAAvB,CAjBF,EAkBE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAeV,IAAI,CAACW,MAAL,CAAYD,MAA3B,CAlBF,CADU;AAAA,WAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHF,CADF;AAgCD;AACF;;;;EA1E+BvC,KAAK,CAACyC,S;;SAAnBvC,I;AA6ErB,IAAMoB,MAAM,GAAGoB,UAAU,CAACC,MAAX,CAAkB;AAC/Bb,EAAAA,iBAAiB,EAAE;AACjBc,IAAAA,WAAW,EAAE,MADI;AAEjBC,IAAAA,WAAW,EAAE,CAFI;AAGjBC,IAAAA,YAAY,EAAE,CAHG;AAIjBC,IAAAA,MAAM,EAAE,CAJS;AAKjBC,IAAAA,UAAU,EAAE,QALK;AAMjBC,IAAAA,cAAc,EAAE;AANC,GADY;AAS/BZ,EAAAA,UAAU,EAAE;AACVV,IAAAA,QAAQ,EAAE,EADA;AAEVF,IAAAA,KAAK,EAAE,SAFG;AAGVC,IAAAA,UAAU,EAAE;AAHF,GATmB;AAc/BF,EAAAA,YAAY,EAAE;AACZwB,IAAAA,UAAU,EAAE,QADA;AAEZE,IAAAA,YAAY,EAAE,QAFF;AAGZC,IAAAA,IAAI,EAAE;AAHM,GAdiB;AAmB/B5B,EAAAA,eAAe,EAAE;AACfyB,IAAAA,UAAU,EAAE,QADG;AAEfE,IAAAA,YAAY,EAAE,QAFC;AAGfC,IAAAA,IAAI,EAAE;AAHS,GAnBc;AAwB/BC,EAAAA,MAAM,EAAE;AACNC,IAAAA,SAAS,EAAE,QADL;AAENH,IAAAA,YAAY,EAAE;AAFR,GAxBuB;AA4B/BI,EAAAA,SAAS,EAAE;AACTC,IAAAA,OAAO,EAAE,EADA;AAET5B,IAAAA,QAAQ,EAAE,EAFD;AAGTM,IAAAA,MAAM,EAAE,EAHC;AAITP,IAAAA,UAAU,EAAE;AAJH,GA5BoB;AAkC/BE,EAAAA,QAAQ,EAAE;AACRsB,IAAAA,YAAY,EAAE,QADN;AAERM,IAAAA,SAAS,EAAE,QAFH;AAGRH,IAAAA,SAAS,EAAE;AAHH,GAlCqB;AAuC/BI,EAAAA,GAAG,EAAE;AACHzB,IAAAA,KAAK,EAAE,GADJ;AAEHC,IAAAA,MAAM,EAAE;AAFL,GAvC0B;AA2C/ByB,EAAAA,SAAS,EAAE;AACTzB,IAAAA,MAAM,EAAE,CADC;AAET0B,IAAAA,eAAe,EAAE,SAFR;AAGT3B,IAAAA,KAAK,EAAE4B,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyB7B,KAAzB,GAAiC;AAH/B;AA3CoB,CAAlB,CAAf","sourcesContent":["import { StatusBar } from \"expo-status-bar\";\r\nimport React from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  Alert,\r\n  FlatList,\r\n  Image,\r\n  Dimensions,\r\n  TouchableHighlight,\r\n} from \"react-native\";\r\n\r\nimport SessionNavbar from \"./security/SessionNavbar\";\r\n\r\nexport default class Main extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      perfiles: [],\r\n      url:\r\n        'http://192.168.0.2:3000/perfil?filter={\"include\":[{\"relation\":\"pais\"},{\"relation\":\"ciudad\"},{\"relation\":\"imagenes\"}]}',\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.getPerfiles();\r\n  };\r\n\r\n  getPerfiles = () => {\r\n    this.setState({ loading: true });\r\n    console.log()\r\n    fetch(this.state.url)\r\n      .then((data) => data.json())\r\n      .then((data) => {\r\n        this.setState({\r\n          perfiles: data,\r\n          loading: false,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        Alert.alert(\"Error\", \"Ha ocurrido un error cargando los perfiles.\");\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    if (this.state.loading) {\r\n      return (\r\n        <View style={styles.dataViewLoading}>\r\n          <Text>Cargando perfiles... por favor espere.</Text>\r\n        </View>\r\n      );\r\n    } else {\r\n      return (\r\n        <View style={styles.perfilesView}>\r\n          <SessionNavbar navigation={navigation}></SessionNavbar>\r\n          <Text style={{ color: \"#860CF8\",   fontWeight: 'bold', fontSize: 25 }}>Descubrir</Text>\r\n          <FlatList\r\n            style={styles.flatList}\r\n            data={this.state.perfiles}\r\n            renderItem={({ item }) => (\r\n              <View style={styles.perfilViewContent}>\r\n                <TouchableHighlight\r\n                  onPress={() => {\r\n                    Alert.alert(\"Imagen seleccionada\", `Perfil: ${item.nombre}`);\r\n                  }}\r\n                >\r\n                  <Image\r\n                    source={{\r\n                      width: 200,\r\n                      height: 150,\r\n                      uri: `http://192.168.0.2:3000/files/1/${item.imagenes[0].id}`,\r\n                       \r\n                    }}\r\n                  />\r\n                </TouchableHighlight>\r\n                <Text style={styles.perfilName}>{item.nombre}</Text>\r\n                \r\n                <Text>Pais: {item.pais.Nombre}</Text>\r\n                <Text>Ciudad: {item.ciudad.Nombre}</Text>\r\n              </View>\r\n            )}\r\n          ></FlatList>\r\n        </View>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  perfilViewContent: {\r\n    borderColor: \"gray\",\r\n    borderWidth: 2, \r\n    borderRadius: 5,\r\n    margin: 5,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  perfilName: {\r\n    fontSize: 18,\r\n    color: \"#860CF8\",\r\n    fontWeight: 'bold'\r\n  },\r\n  perfilesView: {\r\n    alignItems: \"center\",\r\n    alignContent: \"center\",\r\n    flex: 2,\r\n  },\r\n  dataViewLoading: {\r\n    alignItems: \"center\",\r\n    alignContent: \"center\",\r\n    flex: 1,\r\n  },\r\n  button: {\r\n    alignSelf: \"center\",\r\n    alignContent: \"flex-start\",\r\n  },\r\n  itemTitle: {\r\n    padding: 10,\r\n    fontSize: 25,\r\n    height: 44,\r\n    fontWeight: \"bold\",\r\n  },\r\n  flatList: {\r\n    alignContent: \"center\",\r\n    textAlign: \"center\",\r\n    alignSelf: \"center\",\r\n  },\r\n  img: {\r\n    width: 100,\r\n    height: 150,\r\n  },\r\n  separator: {\r\n    height: 4,\r\n    backgroundColor: \"#CEAFEC\",\r\n    width: Dimensions.get(\"window\").width / 2,\r\n  },\r\n});"]},"metadata":{},"sourceType":"module"}